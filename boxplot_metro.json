{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Metro boxplot with appropriate scale",
  "data": {"url": "combined.csv"},
  "title": {"text": "Metro Distribution", "anchor": "start", "color": "#1e3a8a", "fontSize": 18, "fontWeight": 700},
  "transform": [
    {"calculate": "toNumber(datum.entries)", "as": "annual"},
    {"filter": "datum.type == 'Metro'"}
  ],
  "mark": {"type": "boxplot", "color": "#1d4ed8"},
  "encoding": {
    "y": {"field": "annual", "type": "quantitative", "title": "Annual Patronage", "axis": {"tickCount": 8}, "scale": {"domain": [0, 20000000]}},
    "tooltip": [
      {"field": "name", "title": "Station"},
      {"field": "annual", "title": "Annual Patronage", "format": ","}
    ]
  },
  "width": 300,
  "height": 300
}
